-- Creación de la tabla DIM_DESASTRE
CREATE TABLE DIM_DESASTRE (
  ID NUMBER,
  NOMBRE VARCHAR2(80),
  TIPO_DESASTRE VARCHAR2(80),
  CONSTRAINT PK_DIM_DESASTRE PRIMARY KEY (ID)
);

-- Creación de la tabla DIM_MAGNITUD
CREATE TABLE DIM_MAGNITUD (
  ID NUMBER,
  ESCALA VARCHAR2(50),
  CONSTRAINT PK_DIM_MAGNITUD PRIMARY KEY (ID)
);

-- Creación de la tabla DIM_PAIS
CREATE TABLE DIM_PAIS (
  ID NUMBER,
  NOMBRE VARCHAR2(50),
  CIUDAD VARCHAR2(50),
  CONSTRAINT PK_DIM_PAIS PRIMARY KEY (ID)
);

-- Creación de la tabla DIM_REGION
CREATE TABLE DIM_REGION (
  ID NUMBER,
  NOMBRE VARCHAR2(30),
  CONSTRAINT PK_REGION PRIMARY KEY (ID)
);

-- Creación de la tabla DIM_TIEMPO
CREATE TABLE DIM_TIEMPO (
  ID NUMBER,
  MES VARCHAR2(50),
  ANIO VARCHAR2(50),
  CONSTRAINT PK_DIM_TIEMPO PRIMARY KEY (ID)
);

-- Creación de la tabla FACT_DANIOS
CREATE TABLE FACT_DANIOS (
  CANTIDAD_HERIDOS NUMBER,
  TOTAL_DANIOS NUMBER,
  ID_TIEMPO NUMBER,
  ID_DESASTRE NUMBER,
  CONSTRAINT FK_FACT_DANIOS_DIM_DESASTRE FOREIGN KEY (ID_DESASTRE)
    REFERENCES DIM_DESASTRE (ID),
  CONSTRAINT FK_FACT_DANIOS_DIM_TIEMPO FOREIGN KEY (ID_TIEMPO)
    REFERENCES DIM_TIEMPO (ID)
);

-- Creación de la tabla FACT_DESASTRES_NATURALES
CREATE TABLE FACT_DESASTRES_NATURALES (
  TOTAL_MUERTOS NUMBER,
  TOTAL_AFECTADOS NUMBER,
  RANGO_DESASTRE NUMBER,
  ID_TIEMPO NUMBER,
  ID_DESASTRE NUMBER,
  ID_PAIS NUMBER,
  ID_REGION NUMBER,
  ID_MAGNITUD NUMBER,
  CONSTRAINT FK_FACT_DESASTRES_DIM_DESASTRE FOREIGN KEY (ID_DESASTRE)
    REFERENCES DIM_DESASTRE (ID),
  CONSTRAINT FK_FACT_DESASTRES_DIM_MAGNITUD FOREIGN KEY (ID_MAGNITUD)
    REFERENCES DIM_MAGNITUD (ID),
  CONSTRAINT FK_FACT_DESASTRES_DIM_PAIS FOREIGN KEY (ID_PAIS)
    REFERENCES DIM_PAIS (ID),
  CONSTRAINT FK_FACT_DESASTRES_DIM_TIEMPO FOREIGN KEY (ID_TIEMPO)
    REFERENCES DIM_TIEMPO (ID),
  CONSTRAINT FK_FACT_DESASTRES_REGION FOREIGN KEY (ID_REGION)
    REFERENCES DIM_REGION (ID)
);
